7. Given in-order and post-order traversals, write a program to construct the Binary Tree.

#include <iostream>
#include <unordered_map>
using namespace std;

struct Node {
    int data;
    Node *left, *right;
};

Node* newNode(int data) {
    Node* temp = new Node();
    temp->data = data;
    temp->left = temp->right = nullptr;
    return temp;
}


Node* buildTree(int inorder[], int postorder[], int inStart, int inEnd,
                int &postIndex, unordered_map<int,int> &inMap) {

    if (inStart > inEnd)
        return nullptr;

    
    int curr = postorder[postIndex--];
    Node* node = newNode(curr);

    
    if (inStart == inEnd)
        return node;


    int pos = inMap[curr];

    
    node->right = buildTree(inorder, postorder, pos + 1, inEnd, postIndex, inMap);
    node->left  = buildTree(inorder, postorder, inStart, pos - 1, postIndex, inMap);

    return node;
}


void printInorder(Node* root) {
    if (root == nullptr) return;
    printInorder(root->left);
    cout << root->data << " ";
    printInorder(root->right);
}

void printPostorder(Node* root) {
    if (root == nullptr) return;
    printPostorder(root->left);
    printPostorder(root->right);
    cout << root->data << " ";
}

int main() {

    int inorder[]    = {20, 30, 35, 40, 50};
    int postorder[]  = {20, 35, 30, 50, 40};
    int n = sizeof(inorder) / sizeof(inorder[0]);

    unordered_map<int,int> inMap;
    for (int i = 0; i < n; i++)
        inMap[inorder[i]] = i;

    int postIndex = n - 1;  

    Node* root = buildTree(inorder, postorder, 0, n - 1, postIndex, inMap);

    cout << "Constructed Tree Inorder: ";
    printInorder(root);

    cout << "\nConstructed Tree Postorder: ";
    printPostorder(root);

    return 0;
}
